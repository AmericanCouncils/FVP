AWS FVP Build notes:

EC2

	Lamp Stack 
		sudo apt-get install apache2
		sudo apt-get install mysql-server
		sudo apt-get install php libapache2-mod-php php-mcrypt php-mysql
		
		Mysql Credentials:  FVPUser/1400KStreetStreetNW!
		
	SMTP Client (Composer require phpmailer)
	Install npm (sudo apt install npm & npm init)
	Install Fineuploader (npm install fine-uploader)
	Add IAM User: videoFileManager
		- Access Key: AKIA5GGQGDXJ7N57DNHH
		- Secret Access Key: 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

	FFMPEG

		sudo apt-get install ffmpeg
			composer require php-ffmpeg/php-ffmpeg
			
	GD 
	
	sudo apt-get install php7.4-gd

	GOOGLE SPEECH TO TEXT FOR RUSSIAN

		composer require google/cloud-speech
		export GOOGLE_APPLICATION_CREDENTIALS="/var/www/html/FVP/inc/client_secret.json"
		Added export GOOGLE_APPLICATION_CREDENTIALS to ~/.bashrc
		sudo apt install php-bcmath
		sudo apt install php-pear
		sudo apt install php-dev
		sudo pecl install protobuf
		 - add "extension=protobuf.so" to php.ini
		sudo grpc install protobuf
		 - add "extension=grpc.so" to php.ini		 
		

SES

	SMTP Credentials: 
		 ses-smtp-user.20201207-124002
			SMTP Username: AKIA5GGQGDXJV552RJSH
			SMTP Password: BARWyTT6oToqa0t9SI+M93uZ2LTLZS+TBFHsXHtxAx40

S3

	arn:aws:s3:::flagship-video-project

Add CORS configuration	
[
    {
        "AllowedHeaders": [
            "*"
        ],
        "AllowedMethods": [
            "GET",
            "POST",
            "PUT",
            "DELETE",
            "HEAD"
        ],
        "AllowedOrigins": [
            "3.91.222.187" // TO DO: UPDATE to HAWAII
        ],
        "ExposeHeaders": [
            "ETag"
        ],
        "MaxAgeSeconds": 3000
    }
]

IAM 

	Create Role : FVP_S3_Access_Mgr
	
	Create Policy : FVP_S3_Access

		{
			"Version": "2012-10-17",
			"Statement": [
				{
					"Effect": "Allow",
					"Action": [
						"s3:ListBucket"
					],
					"Resource": [
						"arn:aws:s3:::test"
					]
				},
				{
					"Effect": "Allow",
					"Action": [
						"s3:PutObject",
						"s3:GetObject",
						"s3:DeleteObject"
					],
					"Resource": [
						"arn:aws:s3:::flagship-video-project/*"
					]
				}
			]
		}
VPC
	vpc-a1fa28cd


